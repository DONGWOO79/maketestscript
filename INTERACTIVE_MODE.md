# ğŸ¯ Interactive Browser Testing Mode

ì‹¤ì œ ë¸Œë¼ìš°ì € ì°½ì—ì„œ ì§ì ‘ ì‘ì—…í•˜ë©´ì„œ ìë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê¸°ë¡í•˜ëŠ” **Headful Mode**ê°€ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤!

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### 1. **ì‹¤ì œ ë¸Œë¼ìš°ì € ì°½** 
- Chromium ë¸Œë¼ìš°ì € ì°½ì´ ì‹¤ì œë¡œ ì—´ë¦½ë‹ˆë‹¤
- ìµœëŒ€í™”ëœ ìƒíƒœë¡œ ì‹œì‘
- ì¼ë°˜ ë¸Œë¼ìš°ì €ì²˜ëŸ¼ ì‚¬ìš© ê°€ëŠ¥

### 2. **ìë™ ì´ë²¤íŠ¸ ìº¡ì²˜**
- ğŸ–±ï¸ **í´ë¦­**: ëª¨ë“  í´ë¦­ì´ ìë™ìœ¼ë¡œ ê¸°ë¡ë¨
- âŒ¨ï¸ **íƒ€ì´í•‘**: Input/Textareaì— ì…ë ¥í•œ ë‚´ìš© ìë™ ê¸°ë¡
- ğŸ”„ **í˜ì´ì§€ ì´ë™**: ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ì´ë™í•´ë„ ê³„ì† ê¸°ë¡

### 3. **ìŠ¤ë§ˆíŠ¸ ì…€ë ‰í„° ìƒì„±**
- í´ë¦­/íƒ€ì´í•‘í•œ ìš”ì†Œì˜ ìµœì  ì…€ë ‰í„° ìë™ ìƒì„±
- ID, Class, XPath, ARIA Role, Text ë“± ë‹¤ì¤‘ í›„ë³´ ìƒì„±
- ê°€ì¥ ì•ˆì •ì ì¸ ì…€ë ‰í„° ìš°ì„  ìˆœìœ„ë¡œ ì •ë ¬

---

## ğŸš€ ì‚¬ìš© ë°©ë²•

### 1ï¸âƒ£ ì„œë²„ ì‹¤í–‰

```bash
cd ~/projects/webtest-automation-poc
npm run dev
```

- ë°±ì—”ë“œ: http://localhost:3001
- í”„ë¡ íŠ¸ì—”ë“œ: http://localhost:3002

### 2ï¸âƒ£ ì„¸ì…˜ ì‹œì‘

1. **í”„ë¡ íŠ¸ì—”ë“œ ì ‘ì†**: http://localhost:3002
2. **Base URL ì…ë ¥**: í…ŒìŠ¤íŠ¸í•  ì‚¬ì´íŠ¸ URL (ì˜ˆ: `https://example.com`)
3. **"ì„¸ì…˜ ì‹œì‘" í´ë¦­**
   - âœ¨ **ì‹¤ì œ Chromium ë¸Œë¼ìš°ì € ì°½ì´ ì—´ë¦½ë‹ˆë‹¤!**
   - ì…ë ¥í•œ URLë¡œ ìë™ ì´ë™

### 3ï¸âƒ£ ë ˆì½”ë”© ì‹œì‘

1. í”„ë¡ íŠ¸ì—”ë“œì—ì„œ **"ë ˆì½”ë“œ" ë²„íŠ¼ í´ë¦­** (ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ë³€í•¨)
2. ë¸Œë¼ìš°ì € ì½˜ì†”ì— `ğŸ¬ Recording started` ë©”ì‹œì§€ í™•ì¸
3. ì´ì œ ì¤€ë¹„ ì™„ë£Œ!

### 4ï¸âƒ£ ì‹¤ì œ ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸

**ì—´ë¦° Chromium ë¸Œë¼ìš°ì € ì°½ì—ì„œ**:

```
ğŸ‘‰ ë²„íŠ¼ í´ë¦­
   â†’ ìë™ìœ¼ë¡œ "click" ìŠ¤í… ê¸°ë¡ë¨
   â†’ í”„ë¡ íŠ¸ì—”ë“œ í…Œì´ë¸”ì— ì‹¤ì‹œê°„ í‘œì‹œ

ğŸ‘‰ Inputì— í…ìŠ¤íŠ¸ ì…ë ¥
   â†’ ìë™ìœ¼ë¡œ "type" ìŠ¤í… ê¸°ë¡ë¨
   â†’ ì…ë ¥ê°’ê¹Œì§€ í•¨ê»˜ ì €ì¥

ğŸ‘‰ ë§í¬ í´ë¦­ â†’ ë‹¤ìŒ í˜ì´ì§€ ì´ë™
   â†’ "navigate" ìŠ¤í… ìë™ ê¸°ë¡
   â†’ ê³„ì† í´ë¦­/íƒ€ì´í•‘ ê°€ëŠ¥
```

### 5ï¸âƒ£ ìŠ¤í¬ë¦½íŠ¸ í™•ì¸ ë° í¸ì§‘

**í”„ë¡ íŠ¸ì—”ë“œ (http://localhost:3002) ì—ì„œ**:

- ìš°ì¸¡ í…Œì´ë¸”ì— ìë™ ê¸°ë¡ëœ ìŠ¤í… í™•ì¸
- **Command** ë“œë¡­ë‹¤ìš´ìœ¼ë¡œ ëª…ë ¹ì–´ ë³€ê²½ ê°€ëŠ¥
- **Target** í•„ë“œì—ì„œ ì…€ë ‰í„° ì§ì ‘ ìˆ˜ì • ê°€ëŠ¥
- **Value** í•„ë“œì—ì„œ ì…ë ¥ê°’ ìˆ˜ì • ê°€ëŠ¥

### 6ï¸âƒ£ ë ˆì½”ë”© ì¢…ë£Œ

- í”„ë¡ íŠ¸ì—”ë“œì—ì„œ **"ë ˆì½”ë“œ" ë²„íŠ¼ ë‹¤ì‹œ í´ë¦­** (íšŒìƒ‰ìœ¼ë¡œ ë³€í•¨)
- ë˜ëŠ” **"ì„¸ì…˜ ì¢…ë£Œ"** í´ë¦­

---

## ğŸ¬ ë°ëª¨ ì‹œë‚˜ë¦¬ì˜¤

### ì˜ˆì‹œ: ë„¤ì´ë²„ ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸

```
1. Base URL: https://naver.com
2. "ì„¸ì…˜ ì‹œì‘" â†’ Chromium ë¸Œë¼ìš°ì € ì—´ë¦¼
3. "ë ˆì½”ë“œ" í™œì„±í™”

ğŸ–±ï¸ ì‹¤ì œ ë¸Œë¼ìš°ì €ì—ì„œ:
   - "ë¡œê·¸ì¸" ë²„íŠ¼ í´ë¦­
   - ID ì…ë ¥ë€ í´ë¦­ â†’ "myusername" íƒ€ì´í•‘
   - PW ì…ë ¥ë€ í´ë¦­ â†’ "mypassword" íƒ€ì´í•‘
   - "ë¡œê·¸ì¸" ë²„íŠ¼ í´ë¦­

ğŸ“‹ í”„ë¡ íŠ¸ì—”ë“œ í…Œì´ë¸”ì— ìë™ ê¸°ë¡:
   1. click   | #login-button
   2. type    | #id           | myusername
   3. type    | #pw           | mypassword
   4. click   | .btn-login
   5. navigate| https://naver.com/mypage
```

---

## ğŸ” ì‘ë™ ì›ë¦¬

### 1. **Browser Injection**
```javascript
// ë¸Œë¼ìš°ì €ì— ë ˆì½”ë” ìŠ¤í¬ë¦½íŠ¸ ìë™ ì£¼ì…
document.addEventListener('click', (e) => {
  // í´ë¦­ ì´ë²¤íŠ¸ ìº¡ì²˜
});

document.addEventListener('input', (e) => {
  // ì…ë ¥ ì´ë²¤íŠ¸ ìº¡ì²˜
});
```

### 2. **Event Polling**
```
Backend â†’ 1ì´ˆë§ˆë‹¤ ë¸Œë¼ìš°ì €ì—ì„œ ì´ë²¤íŠ¸ ê°€ì ¸ì˜¤ê¸°
       â†’ ê° ì´ë²¤íŠ¸ë¥¼ TestStepìœ¼ë¡œ ë³€í™˜
       â†’ WebSocketìœ¼ë¡œ Frontendì— ì „ì†¡
```

### 3. **Selector Generation**
```
í´ë¦­ ì¢Œí‘œ (x, y) â†’ document.elementFromPoint()
                 â†’ ìš”ì†Œ ì •ë³´ ì¶”ì¶œ
                 â†’ ìŠ¤ë§ˆíŠ¸ ì…€ë ‰í„° ìƒì„± (ID, Class, XPath...)
                 â†’ ê°€ì¥ ì•ˆì •ì ì¸ ê²ƒ ìš°ì„ 
```

---

## ğŸ’¡ íŒ & ëª¨ë²” ì‚¬ë¡€

### âœ… DO

- **ì²œì²œíˆ ì‘ì—…í•˜ê¸°**: ê° ì•¡ì…˜ ì‚¬ì´ì— 1-2ì´ˆ ëŒ€ê¸° (í´ë§ ì£¼ê¸° ê³ ë ¤)
- **ëª…í™•í•œ í´ë¦­**: ìš”ì†Œì˜ ì¤‘ì‹¬ì„ ì •í™•í•˜ê²Œ í´ë¦­
- **ì…ë ¥ ì™„ë£Œ í›„ ëŒ€ê¸°**: íƒ€ì´í•‘ í›„ 0.5ì´ˆ ëŒ€ê¸° (debounce)
- **IDê°€ ìˆëŠ” ìš”ì†Œ ì„ í˜¸**: ê°€ì¥ ì•ˆì •ì ì¸ ì…€ë ‰í„°

### âŒ DON'T

- ë„ˆë¬´ ë¹ ë¥´ê²Œ ì—°ì† í´ë¦­ (í´ë§ì´ ë†“ì¹  ìˆ˜ ìˆìŒ)
- ë™ì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ID ì‚¬ìš© (`btn-1234567890`)
- ë¶ˆì•ˆì •í•œ Class ì‚¬ìš© (`css-abc123-def456`)

### ğŸ¯ Best Practices

1. **í…ŒìŠ¤íŠ¸ ì „ ì¤€ë¹„**
   - ê°œë°œì ë„êµ¬ (F12) ì—´ì–´ë‘ê¸°
   - Consoleì—ì„œ `__recorder_events` í™•ì¸ ê°€ëŠ¥

2. **ë ˆì½”ë”© ì¤‘**
   - ì‹¤ì œ ì‚¬ìš©ìì²˜ëŸ¼ ìì—°ìŠ¤ëŸ½ê²Œ ì¡°ì‘
   - ê° ì•¡ì…˜ì˜ ì™„ë£Œë¥¼ í™•ì¸í•˜ë©° ì§„í–‰
   - ë°±ì—”ë“œ í„°ë¯¸ë„ ë¡œê·¸ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§

3. **ë ˆì½”ë”© í›„**
   - ìƒì„±ëœ ì…€ë ‰í„° ê²€í† 
   - í•„ìš”ì‹œ ë” ì•ˆì •ì ì¸ ì…€ë ‰í„°ë¡œ ìˆ˜ë™ ë³€ê²½
   - Command íƒ€ì… í™•ì¸ (click â†’ assert ë“±)

---

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë¸Œë¼ìš°ì € ì°½ì´ ì—´ë¦¬ì§€ ì•ŠìŒ
```bash
# ë°±ì—”ë“œ ì¬ì‹œì‘
cd ~/projects/webtest-automation-poc/packages/backend
npm run dev
```

### í´ë¦­ì´ ê¸°ë¡ë˜ì§€ ì•ŠìŒ
1. **ë ˆì½”ë“œ ë²„íŠ¼ í™•ì¸**: ë¹¨ê°„ìƒ‰ì¸ê°€?
2. **ë¸Œë¼ìš°ì € ì½˜ì†”**: `__recorder_active === true` í™•ì¸
3. **ë°±ì—”ë“œ ë¡œê·¸**: `ğŸ–±ï¸ Click captured` ë©”ì‹œì§€ í™•ì¸
4. **í´ë§ ëŒ€ê¸°**: ìµœëŒ€ 1ì´ˆ ì†Œìš”

### ì…€ë ‰í„°ê°€ ìƒì„±ë˜ì§€ ì•ŠìŒ
- ë°±ì—”ë“œ ë¡œê·¸ì— `Generated 0 selector candidates` í™•ì¸
- `document.body` ê°™ì€ ì¼ë°˜ ìš”ì†ŒëŠ” ì…€ë ‰í„° ìƒì„± ì•ˆ ë¨
- ë” êµ¬ì²´ì ì¸ ìš”ì†Œ í´ë¦­ (ë²„íŠ¼, ë§í¬, Input ë“±)

### Inputì´ ê¸°ë¡ë˜ì§€ ì•ŠìŒ
- íƒ€ì´í•‘ í›„ **0.5ì´ˆ ëŒ€ê¸°** (debounce)
- Input/Textarea ìš”ì†Œì¸ì§€ í™•ì¸
- ë°±ì—”ë“œ ë¡œê·¸ì— `âŒ¨ï¸ Input captured` í™•ì¸

---

## ğŸ“Š ë¡œê·¸ ëª¨ë‹ˆí„°ë§

### ë°±ì—”ë“œ í„°ë¯¸ë„
```
ğŸ¬ Recording started - Browser actions will be captured automatically
âœ… Auto-recording enabled - All clicks and inputs will be tracked
ğŸ“ Processing event: click { x: 123, y: 456 }
Getting element at location: (x: 123, y: 456)
Found backendNodeId: 12345
Element found: button { id: 'submit' }
Generated 3 selector candidates
âœ… Click step recorded
```

### ë¸Œë¼ìš°ì € ì½˜ì†” (F12)
```javascript
ğŸ¯ Recorder script injected - Ready to capture events
ğŸ–±ï¸ Click captured: { tagName: 'BUTTON', id: 'submit', x: 123, y: 456 }
âŒ¨ï¸ Input captured: { tagName: 'INPUT', id: 'username', value: 'test' }
```

### í”„ë¡ íŠ¸ì—”ë“œ ì½˜ì†”
```javascript
WebSocket message received: step:recorded
ğŸ” Element inspected: { candidatesLength: 3, recording: true }
âœ… Recording click step automatically
```

---

## ğŸ‰ ë‹¤ìŒ ë‹¨ê³„

ë ˆì½”ë”©ì´ ì™„ë£Œë˜ë©´:

1. **ìŠ¤í¬ë¦½íŠ¸ í¸ì§‘**: Command/Target/Value ìˆ˜ì •
2. **ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰**: "Run" ë²„íŠ¼ í´ë¦­ (í–¥í›„ êµ¬í˜„)
3. **ìŠ¤í¬ë¦½íŠ¸ ë‚´ë³´ë‚´ê¸°**: JSON/YAML ì €ì¥ (í–¥í›„ êµ¬í˜„)
4. **CI/CD í†µí•©**: GitHub Actions ë“±ì—ì„œ ì‹¤í–‰ (í–¥í›„ êµ¬í˜„)

---

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

- [README.md](./README.md) - í”„ë¡œì íŠ¸ ê°œìš”
- [ARCHITECTURE.md](./ARCHITECTURE.md) - ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
- [QUICK_START.md](./QUICK_START.md) - ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

---

**Happy Testing! ğŸš€**

